<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="`en|en|`ru|ru|">
<title>`en|Sergey "GrayFace" Rozhenko Homepage|`ru|Сайт Сергея "GrayFace" Роженко|</title>
<link href="https://grayface.github.io/`ru|ru/|"/>
<id>https://grayface.github.io/`ru|ru/|</id>
-[
local q = ({...})[2]
package.loaded.dataNews = nil
local releases = require"dataNews"
]<updated>$[releases[#releases].Date]</updated>-[

local function item(t)
	local a = |s| ("`en|%s|`ru|%s|"):format(t[s], t[s.."RU"] or t[s])
	local desc = Escape(a"Desc", 'main')
	desc = desc:gsub("%[([%+%-%*])%] ", '<span style="white-space:nowrap;display:inline-block;margin-right:0.12em;">[<span !>%1</span>]</span> '):gsub("<span !>%-</span>", "<span !>&ndash;</span>"):gsub("<span !>", '<span style="display:inline-block;min-width:0.8em;text-align:center;">')
	desc = desc:gsub("<br>", "<br/>")
	local info = t.FileInfo or {}
	local infoRU = t.FileInfoRU or {}
	local files = t.Files or {}
	local mirrors = t.MirrorSF or {}
]
<entry>
<title>$[a"Title"]</title>
<link href="https://grayface.github.io/`ru|ru/|#$[t.Id]"/>
<updated>$[t.Date]</updated>
<id>https://grayface.github.io/`ru|ru/|#$[t.Id]</id>
<summary type="html">
-[(desc)
	if not TitleURL and files[1] or files[2] then
		]<div style="margin-top:0.5em;">-[
		for i = 1, #files do
			local url = files[i]
			local fname = url:match("[^?]*"):match(".*/([^/]+)/?$")
			local en = info[i] or "Download "..fname
			local ru = infoRU[i] or "Скачать "..fname
			local desc = ("`en|%s|`ru|%s|"):format(en, ru)
			]<div>-[
				CustomLink(url, desc, mirrors[i])
				q[#q] = q[#q]:gsub('class="mirror"', 'style="margin-left:0.2em;margin-right:0.2em;"'):gsub('></a>', ' style="vertical-align:middle;height:1em;margin:-0.1em 0 0.1em;"/></a>')
			]</div>-[
		end
		]</div>-[
	end]
</summary>
</entry>
-[
end

for i = #releases, math.max(1, #releases - 5), -1 do
	item(releases[i])
end
]
</feed>